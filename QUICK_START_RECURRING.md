# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–Ω—è—Ç–∏—è

## –ß—Ç–æ —ç—Ç–æ?

–ó–∞–Ω—è—Ç–∏—è —Å `isRecurring: true` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç **–î–í–ï –±–ª–∏–∂–∞–π—à–∏–µ –¥–∞—Ç—ã** –≤–º–µ—Å—Ç–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–∞—Ç—ã –∏–∑ Firestore.

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–Ω—è—Ç–∏–µ –≤ Firestore

–í –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `groupTrainings` –¥–æ–±–∞–≤—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç:

```json
{
  "userId": 1,
  "trainerName": "–°–æ—Ñ—å—è –ö–∞—Ä–±—ã—à–µ–≤–∞",
  "courtName": "–¢–ö –ö–æ–ª–æ–º–µ–Ω—Å–∫–∏–π",
  "dateTime": "02.03 19:00",
  "isRecurring": true,           ‚Üê —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ true
  "duration": 1.5,
  "level": "beginner",
  "priceSingle": 2950,
  "contact": "@sophya_tennis",
  "isActive": true
}
```

### 2. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ –∏–∑ `dateTime` ("02.03" = –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫)
2. –ù–∞–π–¥–µ—Ç –¥–≤–∞ –±–ª–∏–∂–∞–π—à–∏—Ö –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞
3. –ü–æ–∫–∞–∂–µ—Ç –æ–±–µ –¥–∞—Ç—ã –≤ –∫–∞—Ä—Ç–æ—á–∫–µ

### 3. –ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç

**–°–µ–≥–æ–¥–Ω—è: 15 –º–∞—Ä—Ç–∞ 2026 (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ)**

**–í Firestore:**
```
dateTime: "02.03 19:00"
isRecurring: true
```

**–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –¢–ö –ö–æ–ª–æ–º–µ–Ω—Å–∫–∏–π       ‚îÇ
‚îÇ –°–æ—Ñ—å—è –ö–∞—Ä–±—ã—à–µ–≤–∞      ‚îÇ
‚îÇ                      ‚îÇ
‚îÇ üìÖ –ü–Ω 16.03         ‚îÇ ‚Üê –±–ª–∏–∂–∞–π—à–∏–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫
‚îÇ    –ü–Ω 23.03         ‚îÇ ‚Üê —Å–ª–µ–¥—É—é—â–∏–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ (—Å–µ—Ä—ã–º)
‚îÇ                      ‚îÇ
‚îÇ üïê 19:00-20:30      ‚îÇ
‚îÇ 2 950‚ÇΩ             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 19:00

```json
{
  "dateTime": "02.03 19:00",  // –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫
  "isRecurring": true
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (—Å–µ–≥–æ–¥–Ω—è 15.03):**
- –ü–µ—Ä–≤–∞—è –¥–∞—Ç–∞: `16.03 19:00` (–∑–∞–≤—Ç—Ä–∞)
- –í—Ç–æ—Ä–∞—è –¥–∞—Ç–∞: `23.03 19:00` (+7 –¥–Ω–µ–π)

### –ü—Ä–∏–º–µ—Ä 2: –°—Ä–µ–¥–∞ –≤ 18:30

```json
{
  "dateTime": "05.03 18:30",  // –°—Ä–µ–¥–∞
  "isRecurring": true
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (—Å–µ–≥–æ–¥–Ω—è 15.03):**
- –ü–µ—Ä–≤–∞—è –¥–∞—Ç–∞: `18.03 18:30` (—á–µ—Ä–µ–∑ 3 –¥–Ω—è)
- –í—Ç–æ—Ä–∞—è –¥–∞—Ç–∞: `25.03 18:30` (+7 –¥–Ω–µ–π)

### –ü—Ä–∏–º–µ—Ä 3: –†–∞–∑–æ–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ

```json
{
  "dateTime": "25.03 14:00",
  "isRecurring": false  // –∏–ª–∏ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–µ
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –¢–æ–ª—å–∫–æ –æ–¥–Ω–∞ –¥–∞—Ç–∞: `25.03 14:00`

## –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å

‚úÖ **–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π**
- –ï—Å–ª–∏ –∏—Å—Ö–æ–¥–Ω–∞—è –¥–∞—Ç–∞ - –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, –≤—Å–µ –∑–∞–Ω—è—Ç–∏—è –±—É–¥—É—Ç –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫

‚úÖ **–í—Ä–µ–º—è –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è**
- –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ 19:00, –≤—Å–µ –∑–∞–Ω—è—Ç–∏—è –±—É–¥—É—Ç –≤ 19:00

‚úÖ **Firestore –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è**
- –ò—Å—Ö–æ–¥–Ω–∞—è –¥–∞—Ç–∞ `02.03 19:00` –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –±–∞–∑–µ
- –†–∞—Å—á–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

‚úÖ **–í—Å–µ–≥–¥–∞ –±—É–¥—É—â–∏–µ –¥–∞—Ç—ã**
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ –∑–∞–Ω—è—Ç–∏—è
- –ü–æ–∏—Å–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∑–∞–≤—Ç—Ä–∞—à–Ω–µ–≥–æ –¥–Ω—è

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**–§—É–Ω–∫—Ü–∏—è:** `getNextTwoRecurringDates()`

```typescript
import { getNextTwoRecurringDates } from './utils/dateCalculator';

const [first, second] = getNextTwoRecurringDates("02.03 19:00");
// first: "16.03 19:00"
// second: "23.03 19:00"
```

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**

```typescript
interface TennisGroup {
  // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
  isRecurring?: boolean;      // —Ñ–ª–∞–≥ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–≥–æ—Å—è –∑–∞–Ω—è—Ç–∏—è
  date: string;               // –ø–µ—Ä–≤–∞—è –¥–∞—Ç–∞
  secondDate?: string;        // –≤—Ç–æ—Ä–∞—è –¥–∞—Ç–∞ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ isRecurring)
  dayOfWeek: string;          // –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ –ø–µ—Ä–≤–æ–π –¥–∞—Ç—ã
  secondDayOfWeek?: string;   // –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ –≤—Ç–æ—Ä–æ–π –¥–∞—Ç—ã
}
```

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–í–æ–ø—Ä–æ—Å:** –ü–æ—á–µ–º—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –¥–∞—Ç–∞?
**–û—Ç–≤–µ—Ç:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–æ–¥. –§—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–∫—É—â–∏–π –≥–æ–¥ (`new Date().getFullYear()`)

**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞—Ç?
**–û—Ç–≤–µ—Ç:** –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `getNextTwoRecurringDates()` –≤ `/src/utils/dateCalculator.ts`

**–í–æ–ø—Ä–æ—Å:** –ú–æ–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å 3 –∏–ª–∏ –±–æ–ª–µ–µ –¥–∞—Ç?
**–û—Ç–≤–µ—Ç:** –î–∞, –Ω–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ `dateCalculator.ts` –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `TennisGroupCard.tsx`

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

üìñ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã: [`RECURRING_DATES_EXAMPLES.md`](./RECURRING_DATES_EXAMPLES.md)  
üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã: [`VISUAL_EXAMPLE.md`](./VISUAL_EXAMPLE.md)  
üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firebase: [`FIREBASE_SETUP.md`](./FIREBASE_SETUP.md)  
üíæ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ: [`FIREBASE_TEST_DATA.md`](./FIREBASE_TEST_DATA.md)
